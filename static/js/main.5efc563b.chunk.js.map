{"version":3,"sources":["features/currentTodoId.ts","types/FilterTypes.ts","features/filter.ts","features/currentUser.ts","features/todos.ts","app/store.ts","selectors/selectors.ts","components/TodoList/TodoList.tsx","components/TodoFilter/TodoFilter.tsx","components/Loader/Loader.tsx","api.ts","components/TodoModal/TodoModal.tsx","App.tsx","index.tsx"],"names":["TodoIdActionTypes","FilterTypes","FilterActionsTypes","TODO_ID_ACTIONS_CREATOR","id","type","SetTodoId","payload","RemoveTodoId","currentTodoIdReducer","state","action","setUser","user","setUserIsLoading","value","initialState","isLoading","USER_ACTIONS_CREATOR","currentUserReducer","TodosActionTypes","FILTERS_ACTIONS_CREATOR","query","SetQuery","filter","SetFilter","status","All","filterReducer","TODOS_ACTIONS_CREATOR","todos","SetTodos","SetIsLoadingTodos","todosReducer","rootReducer","combineReducers","currentTodoId","currentUser","store","createStore","composeWithDevTools","applyMiddleware","thunk","SELECTORS","TodoList","dispatch","useDispatch","useSelector","filters","currentTodo","useMemo","find","todo","filteredTodos","title","completed","filteringByTitle","toLowerCase","includes","Active","Completed","length","className","map","classNames","onClick","TodoFilter","onSubmit","event","preventDefault","onChange","e","target","placeholder","style","pointerEvents","Loader","get","url","delay","fullURL","Promise","resolve","setTimeout","then","fetch","res","json","getUser","userId","TodosApi","TodoModal","useEffect","userFS","catch","finally","href","email","name","App","todosFS","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5efc563b.chunk.js","sourcesContent":["import { Maybe } from '../types/Maybe';\n\nexport enum TodoIdActionTypes {\n  SetTodoId = 'currentTodo/setId',\n  RemoveTodoId = 'currentTodo/removeId',\n}\n\n// we use string literal as a type to avoid mistype in future\ntype RemoveTodoIdAction = { type: TodoIdActionTypes.RemoveTodoId };\n\n// payload is a typical name for an action data\ntype SetTodoIdAction = {\n  type: TodoIdActionTypes.SetTodoId;\n  payload: number;\n};\n\n// Action creator return type protect us from a mistype\nconst removeTodoId = (): RemoveTodoIdAction => (\n  { type: TodoIdActionTypes.RemoveTodoId }\n);\n\nconst setTodoId = (id: number): SetTodoIdAction => ({\n  type: TodoIdActionTypes.SetTodoId,\n  payload: id,\n});\n\nexport const TODO_ID_ACTIONS_CREATOR = {\n  setTodoId,\n  removeTodoId,\n};\n\ntype StateCurrentId = Maybe<number>;\ntype ActionCurrentId = SetTodoIdAction | RemoveTodoIdAction;\n\nconst currentTodoIdReducer = (\n  state: StateCurrentId = null,\n  action: ActionCurrentId,\n): StateCurrentId => {\n  switch (action.type) {\n    case TodoIdActionTypes.SetTodoId:\n      return action.payload;\n\n    case TodoIdActionTypes.RemoveTodoId:\n      return null;\n\n    default:\n      return state;\n  }\n};\n\nexport default currentTodoIdReducer;\n","export enum FilterTypes {\n  All = 'all',\n  Active = 'active',\n  Completed = 'completed',\n}\n","import { Action as BaseAction } from 'redux';\nimport { FilterTypes } from '../types/FilterTypes';\n\ninterface Action<T, P> extends BaseAction<T> {\n  payload: P,\n}\n\nexport enum FilterActionsTypes {\n  SetQuery = 'filter/set_query',\n  SetFilter = 'filter/set_filter',\n}\n\nexport type SetQueryType = Action<FilterActionsTypes.SetQuery, string>;\nexport type SetFilterType = Action<FilterActionsTypes.SetFilter, string>;\n\ntype FilterActions = SetQueryType | SetFilterType;\n\nconst setQuery = (query: string) => ({\n  type: FilterActionsTypes.SetQuery,\n  payload: query,\n});\n\nconst setFilter = (filter: FilterTypes) => ({\n  type: FilterActionsTypes.SetFilter,\n  payload: filter,\n});\n\nexport const FILTERS_ACTIONS_CREATOR = {\n  setQuery,\n  setFilter,\n};\n\nexport interface StateFilter {\n  query: string,\n  status: FilterTypes,\n}\n\nconst initialState = {\n  query: '',\n  status: FilterTypes.All,\n};\n\n// що повертає функція? Як типизувати? State?\nconst filterReducer = (\n  state: StateFilter = initialState,\n  action: FilterActions,\n) => {\n  switch (action.type) {\n    case FilterActionsTypes.SetQuery:\n      return {\n        ...state,\n        query: action.payload,\n      };\n\n    case FilterActionsTypes.SetFilter:\n      return {\n        ...state,\n        status: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default filterReducer;\n","import { Maybe } from '../types/Maybe';\nimport { User } from '../types/User';\n\ntype RemoveUserAction = { type: 'currentUser/REMOVE' };\n\ntype SetUserAction = {\n  type: 'currentUser/SET';\n  payload: User;\n};\n\ntype SetUserIsLoadingAction = {\n  type: 'currentUser/setIsLoading';\n  payload: boolean;\n};\n\nconst removeUser = (): RemoveUserAction => ({ type: 'currentUser/REMOVE' });\n\nconst setUser = (user: User): SetUserAction => ({\n  type: 'currentUser/SET',\n  payload: user,\n});\n\nconst setUserIsLoading = (value: boolean): SetUserIsLoadingAction => ({\n  type: 'currentUser/setIsLoading',\n  payload: value,\n});\n\nexport const actions = { setUser, removeUser, setUserIsLoading };\n\nexport type StateUser = {\n  user: Maybe<User>,\n  isLoading: boolean,\n};\n\nconst initialState = {\n  user: null,\n  isLoading: false,\n};\n\ntype ActionCurrentUser = SetUserAction\n| RemoveUserAction\n| SetUserIsLoadingAction;\n\nexport const USER_ACTIONS_CREATOR = {\n  setUser,\n  removeUser,\n  setUserIsLoading,\n};\n\nconst currentUserReducer = (\n  state: StateUser = initialState,\n  action: ActionCurrentUser,\n): StateUser => {\n  switch (action.type) {\n    case 'currentUser/SET':\n      return {\n        ...state,\n        user: action.payload,\n      };\n\n    case 'currentUser/REMOVE':\n      return {\n        ...state,\n        user: null,\n      };\n\n    case 'currentUser/setIsLoading':\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default currentUserReducer;\n","import { Action as BaseAction } from 'redux';\n// import { Action as BaseAction, Dispatch } from 'redux';\n// import { TodosApi } from '../api';\nimport { Todo } from '../types/Todo';\n\ninterface Action<T, P> extends BaseAction<T> {\n  payload: P,\n}\n\nexport enum TodosActionTypes {\n  SetTodos = 'todos/set_todos',\n  SetIsLoadingTodos = 'todos/set_isLoadingTodos',\n}\n\nexport type SetTodosAction = Action<TodosActionTypes.SetTodos, Todo[]>;\nexport type SetIsLoadingAction =\nAction<TodosActionTypes.SetIsLoadingTodos, boolean>;\n\ntype TodosActions = SetTodosAction | SetIsLoadingAction;\n\nconst setTodosActionCreator = (todos: Todo[]): SetTodosAction => ({\n  type: TodosActionTypes.SetTodos,\n  payload: todos,\n});\n\n// const loadTodosAction = async (dispatch: Dispatch<TodosActions>) => {\n//   const todos = await TodosApi.getTodos();\n\n//   dispatch(setTodosActionCreator(todos));\n// };\n\nconst setIsLoadingTodosActionCreator = (\n  value: boolean,\n): SetIsLoadingAction => ({\n  type: TodosActionTypes.SetIsLoadingTodos,\n  payload: value,\n});\n\nexport const TODOS_ACTIONS_CREATOR = {\n  set: setTodosActionCreator,\n  setIsLoading: setIsLoadingTodosActionCreator,\n  // load: loadTodosAction,\n};\n\nexport interface StateTodos {\n  todos: Todo[];\n  isLoading: boolean;\n}\n\nconst initialState: StateTodos = {\n  todos: [],\n  isLoading: false,\n};\n\nconst todosReducer = (\n  state: StateTodos = initialState,\n  action: TodosActions,\n): StateTodos => {\n  switch (action.type) {\n    case TodosActionTypes.SetTodos:\n      return {\n        ...state,\n        todos: action.payload,\n      };\n\n    case TodosActionTypes.SetIsLoadingTodos:\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default todosReducer;\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\n\nimport currentTodoIdReducer from '../features/currentTodoId';\nimport currentUserReducer from '../features/currentUser';\nimport filterReducer from '../features/filter';\nimport todosReducer from '../features/todos';\n\nconst rootReducer = combineReducers({\n  currentTodoId: currentTodoIdReducer,\n  filter: filterReducer,\n  todos: todosReducer,\n  currentUser: currentUserReducer,\n});\n\n// The `store` is passed to the Provider in `/src/index.tsx`\nexport const store = createStore(\n  rootReducer,\n  composeWithDevTools(\n    applyMiddleware(thunk),\n  ),\n);\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import { RootState } from '../app/store';\nimport { StateFilter } from '../features/filter';\nimport { Maybe } from '../types/Maybe';\nimport { StateTodos } from '../features/todos';\nimport { StateUser } from '../features/currentUser';\n\nconst todosSelector = (state: RootState): StateTodos => state.todos;\nconst filterSelector = (state: RootState): StateFilter => state.filter;\nconst currentTodoIdSelector = (state: RootState): Maybe<number> => (\n  state.currentTodoId\n);\nconst currentUserSelector = (state: RootState): StateUser => (\n  state.currentUser\n);\n\nexport const SELECTORS = {\n  todosSelector,\n  filterSelector,\n  currentTodoIdSelector,\n  currentUserSelector,\n};\n","import classNames from 'classnames';\nimport React, { useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { TODO_ID_ACTIONS_CREATOR } from '../../features/currentTodoId';\nimport { SELECTORS } from '../../selectors/selectors';\nimport { FilterTypes } from '../../types/FilterTypes';\n\nexport const TodoList: React.FC = () => {\n  const dispatch = useDispatch();\n  const { todos } = useSelector(SELECTORS.todosSelector);\n  const currentTodoId = useSelector(SELECTORS.currentTodoIdSelector);\n  const filters = useSelector(SELECTORS.filterSelector);\n\n  const currentTodo = useMemo(() => (\n    todos.find(todo => todo.id === currentTodoId)\n  ), [currentTodoId]);\n\n  const filteredTodos = useMemo(() => {\n    return todos.filter(({ title, completed }) => {\n      const filteringByTitle = title.toLowerCase().includes(\n        filters.query.toLowerCase(),\n      );\n\n      switch (filters.status) {\n        case FilterTypes.All:\n          return filteringByTitle;\n\n        case FilterTypes.Active:\n          return filteringByTitle && !completed;\n\n        case FilterTypes.Completed:\n          return filteringByTitle && completed;\n\n        default:\n          return filteringByTitle;\n      }\n    });\n  }, [filters.query, todos, filters.status]);\n\n  return (\n    <>\n      {filteredTodos.length > 0\n        ? (\n          <table className=\"table is-narrow is-fullwidth\">\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>\n                  <span className=\"icon\">\n                    <i className=\"fas fa-check\" />\n                  </span>\n                </th>\n                <th>Title</th>\n                <th> </th>\n              </tr>\n            </thead>\n\n            <tbody>\n              {filteredTodos.map(todo => {\n                return (\n                  <tr\n                    data-cy=\"todo\"\n                    className={classNames(\n                      {\n                        'has-background-info-light':\n                        currentTodo?.id === todo.id,\n                      },\n                    )}\n                    key={todo.id}\n                  >\n                    <td className=\"is-vcentered\">{todo.id}</td>\n                    <td className=\"is-vcentered\">\n                      {todo.completed && (\n                        <span className=\"icon\" data-cy=\"iconCompleted\">\n                          <i className=\"fas fa-check\" />\n                        </span>\n                      )}\n                    </td>\n                    <td className=\"is-vcentered is-expanded\">\n                      <p className={\n                        todo.completed\n                          ? 'has-text-success'\n                          : 'has-text-danger'\n                      }\n                      >\n                        {todo.title}\n                      </p>\n                    </td>\n                    <td className=\"has-text-right is-vcentered\">\n                      <button\n                        data-cy=\"selectButton\"\n                        className=\"button\"\n                        type=\"button\"\n                        onClick={() => dispatch(\n                          TODO_ID_ACTIONS_CREATOR.setTodoId(todo.id),\n                        )}\n                      >\n                        <span className=\"icon\">\n                          <i className={\n                            currentTodo?.id === todo.id\n                              ? 'far fa-eye-slash'\n                              : 'far fa-eye'\n                          }\n                          />\n                        </span>\n                      </button>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        )\n        : (\n          <p className=\"notification is-warning\">\n            There are no todos matching current filter criteria\n          </p>\n        )}\n    </>\n  );\n};\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FILTERS_ACTIONS_CREATOR } from '../../features/filter';\nimport { SELECTORS } from '../../selectors/selectors';\nimport { FilterTypes } from '../../types/FilterTypes';\n\nexport const TodoFilter: React.FC = () => {\n  const filters = useSelector(SELECTORS.filterSelector);\n  const dispatch = useDispatch();\n\n  return (\n    <form\n      className=\"field has-addons\"\n      onSubmit={event => event.preventDefault()}\n    >\n      <p className=\"control\">\n        <span className=\"select\">\n          <select\n            data-cy=\"statusSelect\"\n            value={filters.status}\n            onChange={e => dispatch(\n              FILTERS_ACTIONS_CREATOR.setFilter(e.target.value as FilterTypes),\n            )}\n          >\n            <option value={FilterTypes.All}>All</option>\n            <option value={FilterTypes.Active}>Active</option>\n            <option value={FilterTypes.Completed}>Completed</option>\n          </select>\n        </span>\n      </p>\n\n      <p className=\"control is-expanded has-icons-left has-icons-right\">\n        <input\n          data-cy=\"searchInput\"\n          type=\"text\"\n          className=\"input\"\n          placeholder=\"Search...\"\n          value={filters.query}\n          onChange={(e) => dispatch(\n            FILTERS_ACTIONS_CREATOR.setQuery(e.target.value),\n          )}\n        />\n        <span className=\"icon is-left\">\n          <i className=\"fas fa-magnifying-glass\" />\n        </span>\n\n        {filters.query && (\n          <span className=\"icon is-right\" style={{ pointerEvents: 'all' }}>\n            {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n            <button\n              data-cy=\"clearSearchButton\"\n              type=\"button\"\n              className=\"delete\"\n              onClick={() => dispatch(\n                FILTERS_ACTIONS_CREATOR.setQuery(''),\n              )}\n            />\n          </span>\n        )}\n      </p>\n    </form>\n  );\n};\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader: React.FC = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { Todo } from './types/Todo';\nimport { User } from './types/User';\n\n// eslint-disable-next-line max-len\nconst BASE_URL = 'https://mate-academy.github.io/react_dynamic-list-of-todos/api';\n\nfunction wait(delay: number): Promise<void> {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\nfunction get<T>(url: string): Promise<T> {\n  // eslint-disable-next-line prefer-template\n  const fullURL = BASE_URL + url + '.json';\n\n  return wait(300)\n    .then(() => fetch(fullURL))\n    .then(res => res.json());\n}\n\nexport const getTodos = () => get<Todo[]>('/todos');\n\nexport const getUser = (userId: number) => get<User>(`/users/${userId}`);\n\nexport const TodosApi = {\n  getTodos,\n  getUser,\n};\n","import React, { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Loader } from '../Loader';\nimport { getUser } from '../../api';\nimport { TODO_ID_ACTIONS_CREATOR } from '../../features/currentTodoId';\nimport { SELECTORS } from '../../selectors/selectors';\nimport { USER_ACTIONS_CREATOR } from '../../features/currentUser';\n\nexport const TodoModal: React.FC = () => {\n  const dispatch = useDispatch();\n  const { todos } = useSelector(SELECTORS.todosSelector);\n  const currentTodoId = useSelector(SELECTORS.currentTodoIdSelector);\n  const { user, isLoading } = useSelector(SELECTORS.currentUserSelector);\n\n  const currentTodo = useMemo(() => (\n    todos.find((todo) => todo.id === currentTodoId)\n  ), [currentTodoId]);\n\n  useEffect(() => {\n    if (currentTodo) {\n      dispatch(USER_ACTIONS_CREATOR.setUserIsLoading(true));\n\n      getUser(currentTodo.userId)\n        .then(userFS => dispatch(USER_ACTIONS_CREATOR.setUser(userFS)))\n        .catch()\n        .finally(() => dispatch(USER_ACTIONS_CREATOR.setUserIsLoading(false)));\n    }\n  }, []);\n\n  return (\n    <div className=\"modal is-active\" data-cy=\"modal\">\n      <div className=\"modal-background\" />\n\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <div className=\"modal-card\">\n          <header className=\"modal-card-head\">\n            <div\n              className=\"modal-card-title has-text-weight-medium\"\n              data-cy=\"modal-header\"\n            >\n              {`Todo #${currentTodo?.id}`}\n            </div>\n\n            {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n            <button\n              type=\"button\"\n              className=\"delete\"\n              data-cy=\"modal-close\"\n              onClick={() => dispatch(TODO_ID_ACTIONS_CREATOR.removeTodoId())}\n            />\n          </header>\n\n          <div className=\"modal-card-body\">\n            <p className=\"block\" data-cy=\"modal-title\">\n              {currentTodo?.title}\n            </p>\n\n            <p className=\"block\" data-cy=\"modal-user\">\n              {currentTodo?.completed\n                ? <strong className=\"has-text-success\">Done</strong>\n                : <strong className=\"has-text-danger\">Planned</strong>}\n\n              {' by '}\n\n              {user && (\n                <a href={`mailto:${user.email}`}>\n                  {user.name}\n                </a>\n              )}\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","/* eslint-disable max-len */\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport './App.scss';\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { TodoList } from './components/TodoList';\nimport { TodoFilter } from './components/TodoFilter';\nimport { TodoModal } from './components/TodoModal';\nimport { Loader } from './components/Loader';\nimport { TodosApi } from './api';\nimport { TODOS_ACTIONS_CREATOR } from './features/todos';\nimport { SELECTORS } from './selectors/selectors';\n\nexport const App: React.FC = () => {\n  const dispatch = useDispatch();\n  const currentTodo = useSelector(SELECTORS.currentTodoIdSelector);\n  const { isLoading } = useSelector(SELECTORS.todosSelector);\n\n  useEffect(() => {\n    dispatch(TODOS_ACTIONS_CREATOR.setIsLoading(true));\n\n    TodosApi.getTodos()\n      .then(todosFS => dispatch(TODOS_ACTIONS_CREATOR.set(todosFS)))\n      .catch()\n      .finally(() => dispatch(TODOS_ACTIONS_CREATOR.setIsLoading(false)));\n  }, []);\n\n  return (\n    <>\n      <div className=\"section\">\n        <div className=\"container\">\n          <div className=\"box\">\n            <h1 className=\"title\">Todos:</h1>\n\n            <div className=\"block\">\n              <TodoFilter />\n            </div>\n\n            <div className=\"block\">\n              {isLoading\n                ? <Loader />\n                : (\n                  <TodoList />\n                )}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {currentTodo && (\n        <TodoModal />\n      )}\n    </>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport { store } from './app/store';\nimport { App } from './App';\n\n// Just a convenient component with all the wrappers for the `App`\n// The Router component (if you use it) should be placed inside the Provider\nconst Root = () => (\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}